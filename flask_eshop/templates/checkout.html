{% extends "base.html" %}

{% block title %}Checkout - eShop{% endblock %}

{% block content %}
    <h1>Checkout</h1>
    
    <div class="checkout-summary">
        <h2>Order Summary</h2>
        {% if cart_items %}
            <div class="order-items">
                {% for item in cart_items %}
                    <div class="order-item">
                        <span>{{ item.product.name }} x {{ item.quantity }}</span>
                        <span>${{ "%.2f"|format(item.total) }}</span>
                    </div>
                {% endfor %}
            </div>
            <div class="order-total">
                <strong>Total: ${{ "%.2f"|format(total) }}</strong>
            </div>
            
            <form action="{{ url_for('checkout') }}" method="POST">
                <button type="submit" class="btn btn-primary">Place Order</button>
                <a href="{{ url_for('view_cart') }}" class="btn">Back to Cart</a>
            </form>
        {% else %}
            <p>Your cart is empty</p>
            <a href="{{ url_for('home') }}" class="btn">Continue Shopping</a>
        {% endif %}
    </div>
{% endblock %}